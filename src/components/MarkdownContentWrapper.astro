---
import type { Props } from "@astrojs/starlight/props";
import Default from "@astrojs/starlight/components/MarkdownContent.astro";

const { difficulty, dataStructures } = Astro.props.entry.data;
---

<Default {...Astro.props}>
  {
    difficulty && dataStructures && (
      <ul class="page-metadata">
        <li>
          <a
            href={`/indexes/difficulty/#${difficulty}`}
            class:list={["difficulty", difficulty]}
          >
            {difficulty}
          </a>
        </li>
        {dataStructures?.map((item) => (
          <li>
            <a
              href={`/indexes/data-structure/#${item.replace(/\s/g, "-")}`}
              class="tag"
            >
              {item}
            </a>
          </li>
        ))}
      </ul>
    )
  }
  <slot />
</Default>
<style>
  .page-metadata {
    --light-green: #bbf7d0;
    --dark-green: #15803d;
    --light-yellow: #fef08a;
    --dark-yellow: #854d0e;
    --light-red: #fecaca;
    --dark-red: #991b1b;
    display: flex;
    gap: 1rem;
    align-items: baseline;
    list-style: none;
    padding: 0;
  }

  .page-metadata a {
    display: block;
    border-radius: 0.25rem;
    text-transform: capitalize;
    padding-inline: 0.5rem;
    border: 1px solid transparent;
    text-decoration: none;
  }

  .page-metadata .tag {
    border-color: var(--sl-color-gray-5);
    color: var(--sl-color-gray-3);
  }

  .page-metadata .tag:hover {
    border-color: var(--sl-color-gray-3);
    color: var(--sl-color-gray-2);
  }

  .page-metadata .difficulty {
    font-weight: 500;
    background-color: var(--difficulty-bg-color);
    color: var(--difficulty-text-color);
  }

  .page-metadata .difficulty:hover {
    color: var(--difficulty-text-color);
    border-color: var(--difficulty-text-color);
    border-color: var(--difficulty-border-color);
  }

  .easy {
    --difficulty-bg-color: var(--dark-green);
    --difficulty-text-color: var(--light-green);
    --difficulty-border-color: #4ade80;
  }

  .medium {
    --difficulty-bg-color: var(--dark-yellow);
    --difficulty-text-color: var(--light-yellow);
    --difficulty-border-color: #ca8a04;
  }

  .hard {
    --difficulty-bg-color: var(--dark-red);
    --difficulty-text-color: var(--light-red);
    --difficulty-border-color: #ef4444;
  }

  :global([data-theme="light"]) .easy {
    --difficulty-text-color: var(--dark-green);
    --difficulty-bg-color: var(--light-green);
    --difficulty-border-color: #22c55e;
  }

  :global([data-theme="light"]) .medium {
    --difficulty-text-color: var(--dark-yellow);
    --difficulty-bg-color: var(--light-yellow);
    --difficulty-border-color: #eab308;
  }

  :global([data-theme="light"]) .hard {
    --difficulty-text-color: var(--dark-red);
    --difficulty-bg-color: var(--light-red);
    --difficulty-border-color: #f87171;
  }
</style>
